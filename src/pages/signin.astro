---
import BaseLayout from "../layouts/BaseLayout.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/");
}
---

<BaseLayout title="Sign in">
  <h1>Sign in</h1>
  <form action="/api/auth/signin" method="post">
    <button
      type="submit"
      value="github"
      name="provider"
      class="btn btn-primary cursor-pointer">Sign in with GitHub</button
    >
  </form>
</BaseLayout>
